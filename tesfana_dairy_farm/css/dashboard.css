:root{
  --bg:#f8fafc;
  --text:#0f172a;
  --muted:#475569;
  --card-bg:#fff;
  --card-border:#e5e7eb;
  --surface:#f1f5f9;
}

.tesfana-dashboard-wrap{max-width:1400px;margin:0 auto;padding:16px;background:var(--bg);color:var(--text)}
.tdf-header{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}
.tdf-header h1{margin:0;font-size:1.8rem}
.subtitle{color:var(--muted);margin:.25rem 0 0}

.tdf-header-actions{display:flex;flex-wrap:wrap;align-items:center;gap:8px}
.tdf-btn{background:#2563eb;color:#fff;padding:8px 12px;border-radius:10px;text-decoration:none;font-weight:600;display:inline-flex;align-items:center}
.tdf-btn:hover{opacity:.9}
.tdf-btn-secondary{background:#4b5563}
.tdf-badge{display:inline-block;min-width:1.2rem;padding:0 .35rem;border-radius:999px;background:#6b7280;color:#fff;text-align:center;font-size:.8rem}

/* KPI grid (single definition) */
.tdf-kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-bottom:18px}
.tdf-kpi{background:var(--card-bg);border:1px solid var(--card-border);border-radius:14px;padding:16px;box-shadow:0 1px 2px rgba(0,0,0,.04)}
.tdf-kpi-title{color:#6b7280;font-size:.9rem;margin-bottom:6px}
.tdf-kpi-value{font-size:1.5rem;font-weight:700}

/* Cards & layout */
.tdf-grid{display:grid;grid-template-columns:1fr;gap:18px}
@media (min-width: 1200px){.tdf-grid{grid-template-columns:1fr 1fr}}
.tdf-card{background:var(--card-bg);border:1px solid var(--card-border);border-radius:14px;padding:20px;box-shadow:0 1px 2px rgba(0,0,0,.04);margin-bottom:16px}
.tdf-card-title{font-weight:700;margin-bottom:8px}

/* Bigger chart + calendar */
.chart-box,#milk-output-chart{width:100%;height:620px;min-height:620px}
.calendar-box{width:100%;min-height:620px}

/* FullCalendar cut-off fixes */
.calendar-box, .fc, .fc-media-screen, .fc-view-harness, .fc-scroller { overflow: visible !important; }
.fc { width: 100%; }
.fc .fc-toolbar-title{font-size:1rem}
.fc .fc-daygrid-day-number{font-weight:600}

/* Fallback message */
.chart-fallback{padding:1rem;opacity:.7}

/* Mobile tweaks */
@media (max-width: 900px){
  .tdf-kpis{grid-template-columns:repeat(2,minmax(0,1fr))}
}

/* Larger calendar + task list visuals */
.calendar-box { width: 100%; min-height: 700px; }
.chart-box { width: 100%; min-height: 650px; }

/* Task list spacing */
.tdf-list { list-style: none; padding: 0; margin: 0; }
.tdf-list li { padding: 10px 8px; border-bottom: 1px solid var(--card-border); }
.tdf-list li:last-child { border-bottom: 0; }
.tdf-list small { color: #64748b; margin-left: 6px; }
